<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hoffer Studios - Creative operations studio helping fashion and wellness brands build Shopify ecosystems that look beautiful, run smoothly, and grow with intention.">
    <meta name="keywords" content="shopify plus, ecommerce, fashion brands, wellness brands, shopify design, retention marketing, fractional strategy">
    <meta name="author" content="Hoffer Studios">
    <title>Hoffer Studios - Shopify for Fashion & Wellness Brands</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>H</text></svg>">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <link href="./dist/output.css?v=2" rel="stylesheet">
    
    <style>
        .font-display {
            font-family: 'Space Grotesk', 'Inter', sans-serif;
        }
        
        /* Mobile Safari fixes */
        .hero-image-container {
            -webkit-overflow-scrolling: touch;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            position: relative;
            z-index: 1;
            isolation: isolate;
            /* Force overflow hidden on Safari */
            -webkit-mask-image: -webkit-radial-gradient(white, white);
            mask-image: radial-gradient(white, white);
            contain: paint;
        }
        
        .rotating-grid {
            -webkit-transform: rotate(-12deg) scale(1.4) translateX(0) translateY(10%);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transform-style: preserve-3d;
            will-change: transform;
            position: relative;
            z-index: 0;
        }
        
        /* Mobile specific adjustments */
        @media (max-width: 1023px) {
            .hero-image-container {
                /* Ensure strict boundaries on mobile */
                clip-path: inset(0);
                -webkit-clip-path: inset(0);
            }
            
            .rotating-grid {
                -webkit-transform: rotate(-12deg) scale(1.2) translateX(0) translateY(5%);
                transform: rotate(-12deg) scale(1.2) translateX(0) translateY(5%);
            }
        }
        
        /* Gentle column animations */
        @keyframes gentleDown {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(50px);
            }
        }
        
        @-webkit-keyframes gentleDown {
            0%, 100% {
                -webkit-transform: translateY(0);
            }
            50% {
                -webkit-transform: translateY(50px);
            }
        }
        
        @keyframes gentleUp {
            0%, 100% {
                transform: translateY(50px);
            }
            50% {
                transform: translateY(0);
            }
        }
        
        @-webkit-keyframes gentleUp {
            0%, 100% {
                -webkit-transform: translateY(50px);
            }
            50% {
                -webkit-transform: translateY(0);
            }
        }
        
        .col-1 {
            animation: gentleDown 60s ease-in-out infinite;
            -webkit-animation: gentleDown 60s ease-in-out infinite;
        }
        
        .col-2 {
            animation: gentleUp 60s ease-in-out infinite;
            -webkit-animation: gentleUp 60s ease-in-out infinite;
        }
        
        .col-3 {
            animation: gentleDown 60s ease-in-out infinite;
            -webkit-animation: gentleDown 60s ease-in-out infinite;
        }
        
        /* Mobile: clean grid with no offset but keep up animation */
        @media (max-width: 1023px) {
            @keyframes gentleUpMobile {
                0%, 100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-50px);
                }
            }
            
            @-webkit-keyframes gentleUpMobile {
                0%, 100% {
                    -webkit-transform: translateY(0);
                }
                50% {
                    -webkit-transform: translateY(-50px);
                }
            }
            
            .col-2 {
                animation: gentleUpMobile 60s ease-in-out infinite;
                -webkit-animation: gentleUpMobile 60s ease-in-out infinite;
            }
        }
        
        /* Fix mobile Safari bottom spacing */
        @media (max-width: 1023px) {
            body {
                margin-bottom: 0;
                padding-bottom: 0;
            }
            
            footer {
                margin-bottom: 0;
                padding-bottom: env(safe-area-inset-bottom, 0);
            }
        }
        
        /* Featured Work hover effects */
        .work-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .work-item .static-image {
            display: block;
            transition: opacity 0.3s ease;
            opacity: 1;
            position: relative;
            z-index: 1;
        }
        
        .work-item .hover-gif {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 2;
        }
        
        .work-item:hover .static-image {
            opacity: 0;
            transition: none;
        }
        
        .work-item:hover .hover-gif {
            opacity: 1;
            transition: none;
        }
        
        .work-item .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            padding: 2rem;
            z-index: 3;
        }
        
        /* Brand logos styling */
        .brand-logo {
            filter: grayscale(100%) opacity(0.6);
            transition: filter 0.3s ease;
        }
        
        .brand-logo:hover {
            filter: grayscale(0%) opacity(1);
        }
        
        /* Hero highlight words */
        .hero-highlight {
            background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: #3b82f6; /* Fallback for browsers that don't support gradient text */
            position: relative;
            display: inline-block;
        }
        
        /* Safari-specific fix */
        @supports (-webkit-background-clip: text) {
            .hero-highlight {
                color: transparent;
            }
        }
        
        .hero-highlight::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0.1em;
            height: 0.3em;
            background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
            opacity: 0.2;
            z-index: -1;
        }
        
        /* Emphasis on "companies" - matches stores style */
        .hero-highlight-bold {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: #10b981; /* Fallback for browsers that don't support gradient text */
            position: relative;
            display: inline-block;
            isolation: isolate;
        }
        
        /* Safari-specific fix */
        @supports (-webkit-background-clip: text) {
            .hero-highlight-bold {
                color: transparent;
            }
        }
        
        .hero-highlight-bold::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0.1em;
            height: 0.35em;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            opacity: 0.2;
            z-index: -1;
        }
        
        /* Small text highlights - for belief section */
        .text-highlight-green {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: #10b981; /* Fallback for browsers that don't support gradient text */
            position: relative;
            display: inline-block;
            isolation: isolate;
        }
        
        /* Safari-specific fix */
        @supports (-webkit-background-clip: text) {
            .text-highlight-green {
                color: transparent;
            }
        }
        
        .text-highlight-green::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0.25em;
            height: 0.4em;
            background: rgba(16, 185, 129, 0.25);
            z-index: -1;
        }
        
        /* Marquee logo section */
        .marquee {
            overflow: hidden;
            white-space: nowrap;
            position: relative;
            padding: 12px 0;
        }
        
        .marquee-content {
            display: inline-block;
            animation: marquee 30s linear infinite;
        }
        
        @keyframes marquee {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
        
        .partner-logo {
            display: inline-block;
            width: auto;
            margin: 0 2rem;
            filter: grayscale(100%) opacity(0.5);
            transition: filter 0.3s ease;
        }
        
        .partner-logo:hover {
            filter: grayscale(0%) opacity(1);
        }
        
        /* Individual logo sizing */
        .logo-shopify { height: 23px; }
        .logo-omnisend { height: 22px; }
        .logo-klaviyo { height: 21px; }
        .logo-appstle { height: 20px; }
        .logo-yotpo { height: 20px; }
        .logo-rebuy { height: 18px; }
        .logo-smile { height: 15px; }
        .logo-apparel { height: 17px; }
        .logo-gorgias { height: 16px; }
        .logo-heatmap { height: 16px; }
        .logo-order-desk { height: 15px; }
        .logo-quiz-kit { height: 12px; }
        
        @media (max-width: 768px) {
            .partner-logo {
                margin: 0 1.5rem;
            }
            .logo-shopify { height: 20px; }
            .logo-omnisend { height: 19px; }
            .logo-klaviyo { height: 18px; }
            .logo-appstle { height: 18px; }
            .logo-yotpo { height: 17px; }
            .logo-rebuy { height: 17px; }
            .logo-smile { height: 16px; }
            .logo-apparel { height: 16px; }
            .logo-gorgias { height: 14px; }
            .logo-heatmap { height: 14px; }
            .logo-order-desk { height: 14px; }
            .logo-quiz-kit { height: 13px; }
        }
    </style>
</head>
<body class="font-sans text-gray-900 bg-white antialiased">
    
    <!-- Navigation -->
    <nav class="fixed w-full bg-white/95 backdrop-blur-md z-50 border-b border-gray-100">
        <div class="w-full px-6 lg:px-12">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center gap-10">
                    <a href="#" class="font-display text-xl font-bold tracking-tight hover:opacity-70 transition">
                        HOFFER STUDIOS
                    </a>
                    
                    <div class="hidden lg:flex items-center gap-8">
                        <a href="#about" class="text-sm font-medium text-gray-900 hover:text-gray-600 transition">About</a>                        
                        <a href="#work" class="text-sm font-medium text-gray-900 hover:text-gray-600 transition">Work</a>
                        <a href="#services" class="text-sm font-medium text-gray-900 hover:text-gray-600 transition">Services</a>
                        <a href="#contact" class="text-sm font-medium text-gray-900 hover:text-gray-600 transition">Contact</a>
                    </div>
                </div>
                
                <div class="hidden lg:flex items-center">
                    <a href="#brief" class="px-6 py-2.5 bg-gray-900 text-white text-sm font-medium rounded hover:bg-gray-800 transition">
                        Schedule a call
                    </a>
                </div>
                
                <!-- Mobile menu button -->
                <div class="lg:hidden">
                    <button id="mobile-menu-button" class="text-gray-900 hover:text-gray-600 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-gray-100">
            <div class="px-6 py-4 space-y-3">
                <a href="#about" class="block text-sm font-medium text-gray-900 hover:text-gray-600">About</a>                
                <a href="#work" class="block text-sm font-medium text-gray-900 hover:text-gray-600">Work</a>
                <a href="#services" class="block text-sm font-medium text-gray-900 hover:text-gray-600">Services</a>
                <a href="#contact" class="block text-sm font-medium text-gray-900 hover:text-gray-600">Contact</a>
                <a href="#brief" class="block mt-4 px-6 py-2.5 bg-gray-900 text-white text-sm font-medium text-center rounded">
                    Schedule a call
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="pt-20 lg:pt-0 min-h-[80vh] lg:h-screen flex flex-col lg:flex-row">
        <div class="w-full lg:w-1/2 flex items-center px-6 lg:px-12 py-12 lg:py-20 order-1 lg:order-1">
            <div class="max-w-2xl">
                <h1 class="font-display text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-8 leading-[1.1] text-pretty">
                    We don't just build <span class="hero-highlight">stores</span>. We help build <span class="hero-highlight-bold">companies</span>.
                </h1>
                <p class="text-xl md:text-2xl text-gray-700 mb-12">
                    For fashion and wellness brands, we design Shopify ecosystems that look beautiful, run smoothly, and grow with intention.
                </p>
                <a href="#contact" class="inline-block px-8 py-4 bg-gray-900 text-white font-medium rounded hover:bg-gray-800 transition text-lg">
                    Start a Conversation
                </a>
            </div>
        </div>
        <div class="w-full lg:w-1/2 bg-gray-50 overflow-hidden relative hero-image-container order-2 lg:order-2 z-0 h-[50vh] lg:h-auto">
            <div class="flex gap-4 rotating-grid">
                <!-- Column 1 - Pushes down -->
                <div class="flex flex-col gap-4 col-1">
                    <img src="img/4.jpg" alt="" class="w-full h-auto object-cover">
                    <img src="img/5.jpg" alt="" class="w-full h-auto object-cover">
                    <img src="img/1.jpg" alt="" class="w-full h-auto object-cover">
                </div>
                
                <!-- Column 2 - Pushes up -->
                <div class="flex flex-col gap-4 col-2">
                    <img src="img/9.jpg" alt="" class="w-full h-auto object-cover">
                    <img src="img/7.jpg" alt="" class="w-full h-auto object-cover">
                    <img src="img/8.jpg" alt="" class="w-full h-auto object-cover">
                </div>
                
                <!-- Column 3 - Pushes down -->
                <div class="flex flex-col gap-4 col-3">
                    <img src="img/3.jpg" alt="" class="w-full h-auto object-cover">
                    <img src="img/6.jpg" alt="" class="w-full h-auto object-cover">
                    <img src="img/2.jpg" alt="" class="w-full h-auto object-cover">
                </div>
            </div>
        </div>
    </section>
    
    <!-- Partner Logos Marquee -->
    <section class=" bg-white border-y border-gray-100">
        <div class="marquee py-[12px] lg:py-6">
            <div class="marquee-content">
                <img src="img/partner-logos/logo-shopify-partner.png" alt="Shopify Partner" class="partner-logo logo-shopify">
                <img src="img/partner-logos/logo-klaviyo.png" alt="Klaviyo" class="partner-logo logo-klaviyo">
                <img src="img/partner-logos/logo-yotpo.png" alt="Yotpo" class="partner-logo logo-yotpo">
                <img src="img/partner-logos/logo-rebuy.png" alt="Rebuy" class="partner-logo logo-rebuy">
                <img src="img/partner-logos/logo-gorgias.png" alt="Gorgias" class="partner-logo logo-gorgias">
                <img src="img/partner-logos/logo-omnisend-partner.png" alt="Omnisend" class="partner-logo logo-omnisend">
                <img src="img/partner-logos/logo-smile.png" alt="Smile" class="partner-logo logo-smile">
                <img src="img/partner-logos/logo-appstle.png" alt="Appstle" class="partner-logo logo-appstle">
                <img src="img/partner-logos/logo-quiz-kit.png" alt="Quiz Kit" class="partner-logo logo-quiz-kit">
                <img src="img/partner-logos/logo-apparel-magic.png" alt="Apparel Magic" class="partner-logo logo-apparel">
                <img src="img/partner-logos/logo-order-desk.png" alt="Order Desk" class="partner-logo logo-order-desk">
                <img src="img/partner-logos/logo-heatmap.png" alt="Heatmap" class="partner-logo logo-heatmap">
                <!-- Duplicate for seamless loop -->
                <img src="img/partner-logos/logo-shopify-partner.png" alt="Shopify Partner" class="partner-logo logo-shopify">
                <img src="img/partner-logos/logo-klaviyo.png" alt="Klaviyo" class="partner-logo logo-klaviyo">
                <img src="img/partner-logos/logo-yotpo.png" alt="Yotpo" class="partner-logo logo-yotpo">
                <img src="img/partner-logos/logo-rebuy.png" alt="Rebuy" class="partner-logo logo-rebuy">
                <img src="img/partner-logos/logo-gorgias.png" alt="Gorgias" class="partner-logo logo-gorgias">
                <img src="img/partner-logos/logo-omnisend-partner.png" alt="Omnisend" class="partner-logo logo-omnisend">
                <img src="img/partner-logos/logo-smile.png" alt="Smile" class="partner-logo logo-smile">
                <img src="img/partner-logos/logo-appstle.png" alt="Appstle" class="partner-logo logo-appstle">
                <img src="img/partner-logos/logo-quiz-kit.png" alt="Quiz Kit" class="partner-logo logo-quiz-kit">
                <img src="img/partner-logos/logo-apparel-magic.png" alt="Apparel Magic" class="partner-logo logo-apparel">
                <img src="img/partner-logos/logo-order-desk.png" alt="Order Desk" class="partner-logo logo-order-desk">
                <img src="img/partner-logos/logo-heatmap.png" alt="Heatmap" class="partner-logo logo-heatmap">
            </div>
        </div>
    </section>
    
    <!-- Identity Section -->
    <section class="flex flex-col lg:flex-row" id="about">
        <div class="w-full lg:w-1/2 flex items-center px-6 lg:px-12 py-12 lg:py-20 bg-gray-50">
            <div class="max-w-2xl">
                <!--<p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-6">Identity / Roots</p>-->
                <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-6 text-pretty">
                    We're a creative operations studio. Built in Montreal, working globally.
                </h2>
                <div class="space-y-6 text-lg text-gray-700 leading-relaxed">
                    <p>
                        We started Hoffer Studios with a simple idea: brands deserve partners who understand both aesthetics and systems. Too often, agencies deliver one without the other — a gorgeous site that doesn't convert, or a functional build that strips away brand soul.
                    </p>
                    <p>
                        We've lived this from the inside. We've scaled fashion and wellness brands ourselves, and we bring that experience to our clients. That's why our work isn't just about launching storefronts. It's about building the backbone of a business.
                    </p>
                </div>
            </div>
        </div>
        <div class="w-full lg:w-1/2 bg-gradient-to-br from-green-600 to-emerald-700 relative flex items-center justify-center py-12 lg:py-20">
            <img src="img/undraw_building-websites_k2zp.svg" alt="Building Websites" class="w-full max-w-md h-auto opacity-90">
        </div>
    </section>
    
    <!-- Featured Work Section -->
    <section class="py-20 lg:py-32 bg-white" id="work">
        <div class="w-full px-6 lg:px-12">
            <!--<p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-6">Featured Work</p>-->
            <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-pretty">
                Recent projects we're proud of
            </h2>
            
            <!-- Work Grid -->
            <div class="grid md:grid-cols-2 gap-8 lg:gap-12 max-w-7xl">
                    
                    <!-- Work Item 1 -->
                    <a class="work-item group block rounded-lg overflow-hidden aspect-[4/3] relative">
                        <img src="img/hoffer-berle.png" alt="Project 1" class="static-image w-full h-full object-cover">
                        <img src="img/hoffer-berle.gif" alt="Project 1 Animation" class="hover-gif w-full h-full object-cover">
                        <div class="overlay">
                            <h3 class="font-display text-2xl font-bold text-white mb-2">Berle</h3>
                            <p class="text-gray-300">Shopify Build / Lifecycle Marketing</p>
                        </div>
                    </a>
                    
                    <!-- Work Item 2 -->
                    <a class="work-item group block rounded-lg overflow-hidden aspect-[4/3] relative">
                        <img src="img/hoffer-toolbox.png" alt="Project 1" class="static-image w-full h-full object-cover">
                        <img src="img/hoffer-toolbox.gif" alt="Project 1 Animation" class="hover-gif w-full h-full object-cover">
                        <div class="overlay">
                            <h3 class="font-display text-2xl font-bold text-white mb-2">Digital Toolbox</h3>
                            <p class="text-gray-300">Branding / Operation Strategy</p>
                        </div>
                    </a>
                    
                    <!-- Work Item 3 -->
                    <a class="work-item group block rounded-lg overflow-hidden aspect-[4/3] relative">
                        <img src="img/hoffer-socialcitizen.png" alt="Project 1" class="static-image w-full h-full object-cover">
                        <img src="img/hoffer-socialcitizen.gif" alt="Project 1 Animation" class="hover-gif w-full h-full object-cover">
                        <div class="overlay">
                            <h3 class="font-display text-2xl font-bold text-white mb-2">Social Citizen</h3>
                            <p class="text-gray-300">Shopify Build / Creative</p>
                        </div>
                    </a>
                    
                    <!-- Work Item 4 -->
                    <a class="work-item group block rounded-lg overflow-hidden aspect-[4/3] relative">
                        <img src="img/hoffer-crooksncastles.png" alt="Project 1" class="static-image w-full h-full object-cover">
                        <img src="img/hoffer-crooksncastles.gif" alt="Project 1 Animation" class="hover-gif w-full h-full object-cover">
                        <div class="overlay">
                            <h3 class="font-display text-2xl font-bold text-white mb-2">Crooks & Castles</h3>
                            <p class="text-gray-300">Shopify Plus / Digital Strategy</p>
                        </div>
                    </a>

                    <!-- Work Item 5 -->
                    <a class="work-item group block rounded-lg overflow-hidden aspect-[4/3] relative">
                        <img src="img/hoffer-bgl.webp" alt="Project 1" class="static-image w-full h-full object-cover">
                        <img src="img/hoffer-bgl.gif" alt="Project 1 Animation" class="hover-gif w-full h-full object-cover">
                        <div class="overlay">
                            <h3 class="font-display text-2xl font-bold text-white mb-2">Big Georges Laraque</h3>
                            <p class="text-gray-300">Shopify &amp; Amazon / Lifecycle Marketing</p>
                        </div>
                    </a>       
                    
                    <!-- Work Item 5 -->
                    <a class="work-item group block rounded-lg overflow-hidden aspect-[4/3] relative">
                        <img src="img/hoffer-specvault.png" alt="Project 1" class="static-image w-full h-full object-cover">
                        <img src="img/hoffer-specvault.gif" alt="Project 1 Animation" class="hover-gif w-full h-full object-cover">
                        <div class="overlay">
                            <h3 class="font-display text-2xl font-bold text-white mb-2">Spec Vault</h3>
                            <p class="text-gray-300">Shopify Build / Lifecycle Marketing</p>
                        </div>
                    </a>                       
                    
            </div>
        </div>
    </section>    

    <!-- Beliefs Section -->
    <section class="flex flex-col lg:flex-row">
        <div class="w-full lg:w-1/2 flex items-center px-6 lg:px-12 py-12 lg:py-20 bg-gray-50">
            <div class="max-w-2xl">
                <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-pretty">
                    We're grounded in a few simple truths
                </h2>
                
                <div class="space-y-6">
                    <!-- Belief 1 -->
                    <div>
                        <h3 class="font-display text-xl font-bold text-gray-900 mb-2">
                            Design is <span class="text-highlight-green">strategy.</span>
                        </h3>
                        <p class="text-lg text-gray-700">Good design isn't decoration; it drives growth.</p>
                    </div>
                    
                    <!-- Belief 2 -->
                    <div>
                        <h3 class="font-display text-xl font-bold text-gray-900 mb-2">
                            Retention is <span class="text-highlight-green">growth.</span>
                        </h3>
                        <p class="text-lg text-gray-700">Loyalty and lifetime value outlast ad spend.</p>
                    </div>
                    
                    <!-- Belief 3 -->
                    <div>
                        <h3 class="font-display text-xl font-bold text-gray-900 mb-2">
                            Systems create <span class="text-highlight-green">freedom.</span>
                        </h3>
                        <p class="text-lg text-gray-700">Scale is only sustainable with the right backend.</p>
                    </div>
                    
                    <!-- Belief 4 -->
                    <div>
                        <h3 class="font-display text-xl font-bold text-gray-900 mb-2">
                            Every <span class="text-highlight-green">detail</span> matters.
                        </h3>
                        <p class="text-lg text-gray-700">From product pages to post-purchase emails, consistency builds trust.</p>
                    </div>
                    
                    <!-- Belief 5 -->
                    <div>
                        <h3 class="font-display text-xl font-bold text-gray-900 mb-2">
                            Small teams work <span class="text-highlight-green">sharper.</span>
                        </h3>
                        <p class="text-lg text-gray-700">We stay focused so you always work with senior expertise.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full lg:w-1/2 bg-gradient-to-br from-green-600 to-emerald-700 relative flex items-center justify-center py-12 lg:py-20">
            <img src="img/undraw_team-collaboration_phnf.svg" alt="Team Collaboration" class="w-full max-w-xl h-auto opacity-90">
        </div>
    </section>
    
    <!-- Select Clients Section -->
    <section class="py-20 lg:py-32 bg-white">
        <div class="w-full px-6 lg:px-12">
            <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-12">
                Select Clients
            </h2>
            
            <!-- 4x2 Grid -->
            <div class="max-w-6xl grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6">
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/1habs.png" alt="Habs" class="brand-logo h-auto max-h-[35px] lg:max-h-[60px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/2diesel.png" alt="Diesel" class="brand-logo h-auto max-h-[33px] lg:max-h-[55px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/3stokes.png" alt="Stokes" class="brand-logo h-auto max-h-[22px] lg:max-h-[35px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/4thorlo.png" alt="Thorlo" class="brand-logo h-auto max-h-[22px] lg:max-h-[35px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/5mashable.png" alt="Mashable" class="brand-logo h-auto max-h-[30px] lg:max-h-[50px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/6ben-jerry.png" alt="Ben & Jerry's" class="brand-logo h-auto max-h-[26px] lg:max-h-[45px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/7vintage.png" alt="Vintage" class="brand-logo h-auto max-h-[22px] lg:max-h-[35px] w-auto">
                </div>
                <div class="flex items-center justify-center h-28 lg:h-36 bg-gray-50">
                    <img src="img/brand-logos/8dominos.png" alt="Domino's" class="brand-logo h-auto max-h-[24px] lg:max-h-[40px] w-auto">
                </div>
            </div>
        </div>
    </section>

    <!-- What We Do Section -->
    <section class="flex flex-col lg:flex-row" id="services">
        <div class="w-full lg:w-1/2 flex items-center px-6 lg:px-12 py-12 lg:py-20 bg-gray-50">
            <div class="max-w-2xl">
                <!--<p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-6">What We Do</p>-->
                <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-pretty">
                    We specialize in helping fashion and wellness brands <span class="hero-highlight-bold">grow</span> through:
                </h2>
                
                <div class="space-y-8">
                    <!-- Service 1 -->
                    <div>
                        <h3 class="font-display text-xl font-bold mb-2">Shopify Storefronts</h3>
                        <p class="text-gray-700">Custom builds designed to convert — flexible, editorial, and unmistakably your brand.</p>
                    </div>
                    
                    <!-- Service 2 -->
                    <div>
                        <h3 class="font-display text-xl font-bold mb-2">Design Systems & UX</h3>
                        <p class="text-gray-700">Modular design frameworks that make your site scalable and timeless.</p>
                    </div>
                    
                    <!-- Service 3 -->
                    <div>
                        <h3 class="font-display text-xl font-bold mb-2">Retention & Lifecycle</h3>
                        <p class="text-gray-700">Email, SMS, loyalty, and subscription programs that feel seamless, not salesy.</p>
                    </div>
                    
                    <!-- Service 4 -->
                    <div>
                        <h3 class="font-display text-xl font-bold mb-2">Fractional Strategy</h3>
                        <p class="text-gray-700">Senior-level guidance for brands who need expertise without hiring full-time.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full lg:w-1/2 bg-gradient-to-br from-green-600 to-emerald-700 relative flex items-center justify-center py-12 lg:py-20">
            <img src="img/undraw_mcp-server_7kvc.svg" alt="Server Infrastructure" class="w-full max-w-xl h-auto opacity-90">
        </div>
    </section>

    <!-- Partners / Tech Stack Section 
    <section id="services" class="flex flex-col lg:flex-row">
        <div class="w-full lg:w-1/2 flex items-center px-6 lg:px-12 py-12 lg:py-20 bg-white">
            <div class="max-w-2xl">
                <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-6 text-pretty">
                    Great commerce is never just one tool. It's a system.
                </h2>
                <p class="text-lg text-gray-700 leading-relaxed mb-8">
                    That's why we work with the best tech partners in the industry:
                </p>
                
                <ul class="space-y-4 text-gray-700 mb-8">
                    <li><strong class="text-gray-900">Shopify Plus</strong> for scale-ready storefronts.</li>
                    <li><strong class="text-gray-900">Klaviyo & Postscript</strong> for lifecycle and SMS marketing.</li>
                    <li><strong class="text-gray-900">Recharge & Yotpo</strong> for subscriptions and loyalty.</li>
                    <li><strong class="text-gray-900">Triple Whale & GA4</strong> for clear, actionable analytics.</li>
                </ul>
                
                <p class="text-lg text-gray-700">
                    Our strength isn't just knowing the platforms. It's knowing how to make them work together to create ecosystems that last.
                </p>
            </div>
        </div>
        <div class="w-full lg:w-1/2 aspect-square lg:aspect-auto bg-gradient-to-br from-orange-900 to-orange-700 relative">
            <div class="absolute inset-0 flex items-center justify-center text-white/10 text-9xl">⚙️</div>
        </div>
    </section> -->

    <!-- Proof / Differentiator Section -->
    <section id="about" class="flex flex-col lg:flex-row">
        <div class="w-full flex items-center px-6 lg:px-12 py-12 lg:py-20">
            <div class="max-w-2xl">
                <!--<p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-6">Proof / Differentiator</p>-->
                <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-pretty">
                    We're a <span class="hero-highlight-bold">studio</span>, not a <span class="hero-highlight">factory.</span>
                </h2>
                <div class="space-y-6 text-lg text-gray-700 leading-relaxed">
                    <p>
                        We're not a volume-driven agency. We're a studio, intentional by design. We take on fewer brands so we can go deeper — embedding ourselves in the way you think, work, and grow.
                    </p>
                    <p>
                        That means no handoffs to juniors. No bloated overhead. Just senior-level expertise, applied directly to your brand.
                    </p>
                </div>
            </div>
        </div>
        <!--
        <div class="w-full lg:w-1/2 aspect-square lg:aspect-auto bg-gradient-to-br from-indigo-900 to-indigo-700 relative">
            <div class="absolute inset-0 flex items-center justify-center text-white/10 text-9xl">🎯</div>
        </div>
        -->
    </section>

    
    <!-- CTA Section -->
    <section class="flex flex-col lg:flex-row" id="contact">
        <div class="w-full flex items-center px-6 lg:px-12 py-12 lg:py-20 bg-gray-50">
            <div class="">
                <!--<p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-6">Closing / CTA</p>-->
                <h2 class="font-display text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-8 leading-tight">
                    Ready to grow beyond a storefront?
                </h2>
                <p class="text-xl md:text-2xl text-gray-700 mb-12">
                    We help fashion and wellness brands turn Shopify into more than a store. Into a business that lasts.
                </p>
                <a href="#contact" class="inline-block px-8 py-4 bg-gray-900 text-white font-medium rounded hover:bg-gray-800 transition text-lg">
                    Start a Conversation
                </a>
            </div>
        </div>
        <!--
        <div class="w-full lg:w-1/2 aspect-square lg:aspect-auto bg-gradient-to-br from-rose-900 to-rose-700 relative">
            <div class="absolute inset-0 flex items-center justify-center text-white/10 text-9xl">🚀</div>
        </div>
        -->
    </section>

    <!-- Contact Section 
    <section id="contact" class="lg:min-h-[50vh] flex flex-col lg:flex-row">
        <div class="w-full lg:w-1/2 flex items-center px-6 lg:px-12 py-12 lg:py-20 bg-gray-50">
            <div class="max-w-2xl">
                <h2 class="font-display text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-pretty">Get in touch</h2>
                <p class="text-lg text-gray-700 mb-4">
                    <a href="mailto:info@hofferstudios.com" class="hover:text-gray-900 transition">info@hofferstudios.com</a>
                </p>
                <p class="text-sm text-gray-600">
                    Montreal, Canada
                </p>
            </div>
        </div>
        <div class="w-full lg:w-1/2 aspect-square lg:aspect-auto bg-gradient-to-br from-teal-900 to-teal-700 relative">
            <div class="absolute inset-0 flex items-center justify-center text-white/10 text-9xl">📧</div>
        </div>
    </section>
    -->

    <!--Footer -->
    <footer class="bg-gray-900 text-gray-300 py-16 px-6 lg:px-12">
        <div class="max-w-6xl">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div class="md:col-span-2">
                    <h3 class="font-display text-2xl font-bold text-white mb-4">HOFFER STUDIOS</h3>
                    <p class="text-gray-400 mb-4">Creative operations studio.<br>Built in Montreal, working globally.</p>
                    <p class="text-sm text-gray-500">Shopify Plus Partners</p>
                </div>
                
                <div>
                    <h4 class="text-white font-semibold mb-4">Navigate</h4>
                    <ul class="space-y-3">
                        <li><a href="#home" class="text-gray-400 hover:text-white transition text-sm">Home</a></li>
                        <li><a href="#work" class="text-gray-400 hover:text-white transition text-sm">What We Do</a></li>
                        <li><a href="#services" class="text-gray-400 hover:text-white transition text-sm">Partners</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition text-sm">About</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white transition text-sm">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-white font-semibold mb-4">Contact</h4>
                    <ul class="space-y-3">
                        <li><a href="mailto:info@hofferstudios.com" class="text-gray-400 hover:text-white transition text-sm">info@hofferstudios.com</a></li>
                        <li><span class="text-gray-400 text-sm">Montreal, Canada</span></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-gray-500">© 2025 Hoffer Studios. All rights reserved.</p>
                <div class="flex items-center gap-6">
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition" aria-label="LinkedIn">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition" aria-label="Instagram">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu Script -->
    <script>
        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // Close mobile menu when clicking on a link
        const mobileMenuLinks = mobileMenu.querySelectorAll('a');
        mobileMenuLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#') {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });
        
        // Reset GIFs to frame 0 when hover ends
        document.querySelectorAll('.work-item').forEach(item => {
            item.addEventListener('mouseleave', () => {
                const gif = item.querySelector('.hover-gif');
                if (gif && gif.src.includes('.gif')) {
                    const src = gif.src;
                    gif.src = '';
                    gif.src = src;
                }
            });
        });
    </script>


    <!-- AI Chat Modal -->
    <div id="chatModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col">
            <!-- Header -->
            <div class="flex items-center justify-between p-6 border-b border-gray-200">
                <div>
                    <h3 class="text-xl font-display font-bold text-gray-900">Start a Conversation</h3>
                    <p class="text-sm text-gray-600 mt-1">Tell us about your project</p>
                </div>
                <button id="closeModal" class="text-gray-400 hover:text-gray-600 transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Messages Container -->
            <div id="messagesContainer" class="flex-1 overflow-y-auto p-6 space-y-4">
                <!-- Messages will be inserted here -->
            </div>

            <!-- Input Area -->
            <div class="p-6 border-t border-gray-200">
                <form id="chatForm" class="flex gap-2">
                    <input 
                        type="text" 
                        id="chatInput" 
                        placeholder="Type your message..."
                        class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                        autocomplete="off"
                    />
                    <button 
                        type="submit" 
                        id="sendButton"
                        class="px-6 py-3 bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        Send
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Chat Script -->
    <script>
        const chatModal = document.getElementById('chatModal');
        const closeModalBtn = document.getElementById('closeModal');
        const chatForm = document.getElementById('chatForm');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const messagesContainer = document.getElementById('messagesContainer');
        
        let messages = [];
        let isStreaming = false;

        // Open modal when "Start a Conversation" button is clicked
        document.querySelectorAll('a[href="#contact"]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                openChat();
            });
        });

        function openChat() {
            chatModal.classList.remove('hidden');
            chatModal.classList.add('flex');
            chatInput.focus();
            
            // Add initial message if no messages yet
            if (messages.length === 0) {
                addAssistantMessage("Hey there! 👋 I'm here to learn more about your project. Let's start with the basics — what's your name and what's your company called?");
            }
        }

        function closeChat() {
            chatModal.classList.add('hidden');
            chatModal.classList.remove('flex');
        }

        closeModalBtn.addEventListener('click', closeChat);
        chatModal.addEventListener('click', (e) => {
            if (e.target === chatModal) closeChat();
        });

        function addUserMessage(text) {
            messages.push({ role: 'user', content: text });
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex justify-end';
            messageDiv.innerHTML = `
                <div class="bg-gray-900 text-white px-4 py-3 rounded-lg max-w-[80%]">
                    ${escapeHtml(text)}
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        function addAssistantMessage(text) {
            messages.push({ role: 'assistant', content: text });
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex justify-start';
            messageDiv.innerHTML = `
                <div class="bg-gray-100 text-gray-900 px-4 py-3 rounded-lg max-w-[80%]">
                    ${escapeHtml(text)}
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        function addStreamingMessage() {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex justify-start';
            messageDiv.id = 'streamingMessage';
            messageDiv.innerHTML = `
                <div class="bg-gray-100 text-gray-900 px-4 py-3 rounded-lg max-w-[80%]">
                    <span class="inline-block">●</span>
                    <span class="inline-block animate-pulse">●</span>
                    <span class="inline-block animate-pulse delay-100">●</span>
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
            return messageDiv;
        }

        function updateStreamingMessage(element, text) {
            element.querySelector('div').innerHTML = escapeHtml(text);
            scrollToBottom();
        }

        function scrollToBottom() {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML.replace(/\n/g, '<br>');
        }

        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const userMessage = chatInput.value.trim();
            if (!userMessage || isStreaming) return;

            // Add user message
            addUserMessage(userMessage);
            chatInput.value = '';
            
            // Disable input while streaming
            isStreaming = true;
            chatInput.disabled = true;
            sendButton.disabled = true;

            // Add streaming indicator
            const streamingDiv = addStreamingMessage();

            try {
                const response = await fetch('/.netlify/functions/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        messages: messages.map(m => ({
                            role: m.role,
                            content: m.content
                        }))
                    }),
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    console.error('Response error:', errorData);
                    throw new Error(errorData.details || 'Failed to get response');
                }

                const data = await response.json();
                const assistantMessage = data.message;

                // Remove streaming message and add final message
                streamingDiv.remove();
                addAssistantMessage(assistantMessage);

                // Check if AI wants to submit the brief
                if (assistantMessage.includes('SUBMIT_BRIEF||')) {
                    await submitBrief();
                }

            } catch (error) {
                console.error('Chat error:', error);
                streamingDiv.remove();
                addAssistantMessage("Sorry, something went wrong. Please try again.");
            } finally {
                isStreaming = false;
                chatInput.disabled = false;
                sendButton.disabled = false;
                chatInput.focus();
            }
        });

        async function submitBrief() {
            try {
                // Show submitting message
                addAssistantMessage("✨ Perfect! I'm sending your project brief to our team now...");
                
                // Build full conversation text
                const conversationText = messages.map(m => 
                    `${m.role === 'user' ? 'Client' : 'Assistant'}: ${m.content}`
                ).join('\n\n');

                // Send lead via email
                const sendResponse = await fetch('/.netlify/functions/send-lead', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        conversation: conversationText
                    }),
                });

                if (!sendResponse.ok) {
                    throw new Error('Failed to send lead');
                }

                const result = await sendResponse.json();

                if (result.success) {
                    addAssistantMessage("🎉 All set! Your project brief has been sent to our team. We'll be in touch soon! Thanks for chatting with me!");
                    
                    // Disable input after successful submission
                    chatInput.disabled = true;
                    sendButton.disabled = true;
                    sendButton.textContent = 'Submitted';
                } else {
                    throw new Error('Failed to send lead');
                }

            } catch (error) {
                console.error('Submit error:', error);
                addAssistantMessage("Oops! Something went wrong with the submission. Can you email us directly at info@hofferstudios.com with your details?");
            }
        }
    </script>


</body>
</html>
